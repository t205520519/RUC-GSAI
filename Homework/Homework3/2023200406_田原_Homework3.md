# Homework3
姓名：田原

学号：2023200406

## 题目1
|  | little-endian | big-endian |
| --- | --- | --- |
| show_bytes(valp,1) | 33 | 14 |
| show_bytes(valp,2) | 33 02 | 14 0a |
| show_bytes(valp,4) | 33 02 0a| 14 0a 02 |

## 题目2
| Fractional value |Binary representation | Demical representation |
| --- | --- | --- |
| 1/8 | 0.001 | 0.125 |
| 3/4 | 0.11 | 0.75 |
| 43/16 | 10.1011 |  2.6875 |
| 25/16 | 1.1001 |  1.5625|
| 51/16 | 11.0011 | 3.1875 |

## 题目3
A.首位为0；接下来E位首位和末位为1，其余位为0；接下来f位前两位为2，其余为0  
B.首位为0，E为f二进制表示加上掩码,f全为1  
C.1/2^(E-2)  

## 题目4
<table>
  <tr>
    <td colspan="2">Format A</td>
    <td colspan="2">Format B</td>
  </tr>
  <tr>
    <td>Bits</td>
    <td>Value</td>
    <td>Bits</td>
    <td>Value</td>
  </tr>
  <tr>
    <td>1 01110 001</td>
    <td>-9/16</td>
    <td>1 0110 0010</td>
    <td>-9/16</td>
  </tr>
  <tr>
    <td>0 10110 101</td>
    <td>208</td>
    <td>0 1110 1010</td>
    <td>208</td>
  </tr>
  <tr>
    <td>0 00000 101</td>
    <td>5/<p>2<sup>14</sup></p></td>
    <td>0 1000 0000</td>
    <td>1</td>
  </tr>
  <tr>
    <td>1 11011 000</td>
    <td><p>-2<sup>12</sup></p></td>
    <td>1 1111 0000</td>
    <td><p>-2<sup>8</sup></p></td>
  </tr>
    <tr>
    <td>0 11000 100</td>
    <td>768</td>
    <td>0 1111 0000</td>
    <td><p>2<sup>8</sup></p></td>
  </tr>
</table>


## 题目5
A.是 对于x和dx，二者精度没有损失，转化为float遵循相同的规则
B.否 x=0x7FFFFFFF,y=0x80000000;
C.是 int转换后的浮点数相加不会溢出
D.否 x=0x7F00FFAF,y=0x7FFFFFF7,z=0x7FFF007F;
E.否 dx=0,dy=2
## 题目6 
```c
typedef unsigned float_bits;

bool is_nan(float_bits f) {
    unsigned exponent = (f >> 23) & 0xFF; 
    unsigned fraction = f & 0x7FFFFF;
    return (exponent == 0xFF && fraction != 0);
}
float_bits float_abs(float_bits f) {
    if (is_nan(f)) {
        return f; 
    }
    return f & 0x7FFFFFFF;
}
```
## 题目7
```c
typedef unsigned float_bits;
bool is_nan(float_bits f) {
    unsigned exponent = (f >> 23) & 0xFF;
    unsigned fraction = f & 0x7FFFFF; 
    return (exponent == 0xFF && fraction != 0);
}
float_bits float_twice(float_bits f) {
    if (is_nan(f)) {
        return f; }
    if ((f & 0x7FFFFFFF) == 0) {
        return f; 
    }
    unsigned exponent = (f >> 23) & 0xFF; 
    if (exponent == 0xFF) {
        return f; // overflow
    }
    return (f & 0x807FFFFF) | (exponent << 23); 
}
```
